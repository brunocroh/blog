---
title: "Você provavelmente não deveria estar utilizando Git Flow."
---

# Você provavelmente não deveria estar utilizando Git Flow.

## Disclaimer.

Esse é um artigo para Web Devs, construído com a minha experiência profissional, e com diversos links, recomendo fortemente a lida de todas as fontes que são linkadas aqui, não é um texto tão curto, mas com certeza é um texto completo sobre o tema.

## O que é o Git flow

Git flow foi criado em 2010, e honestamente já tem bastante conteúdo sobre isso, e bem provável que você já trabalhou ou utiliza diariamente o Git Flow, não vou abordar essa tema nesse texto, caso você não conheça ou queira enriquecer seu conhecimento esse modelo de branching, recomendo que você leia o Artigo original da proposta do Git flow criado pelo [Vincent Driessen (Aka **nvie**)](https://nvie.com/about/), leia o [artigo original aqui.](https://nvie.com/posts/a-successful-git-branching-model/)

## O que o Autor pensa sobre o Git Flow na atualidade.

Em 2020, o [Nvie](https://nvie.com/about/)  atualizou o [post](https://nvie.com/posts/a-successful-git-branching-model/) com uma nota de reflexão, você pode ler na integra mas um pequeno resumo do que ele disse foi:

>O modelo foi criado a 10 anos atras, se tornou popular e muitas pessoas começaram a considerar Git Flow como um padrão, um dogma uma verdadeira bala de prata.
>
>As aplicações web normalmente são desenvolvidas com Continuous Delivery, e não é necessário manter múltiplas versões rodando ao mesmo tempo
>
>Esse não é o tipo de software que eu tinha em mente quando escrevi o artigo original, se o seu time utiliza Continuous Delivery, sugiro adotar um fluxo de trabalho mais simples (como o [Github flow](https://docs.github.com/pt/get-started/quickstart/github-flow)) em vez de forçar a utilização do Git Flow.
>
>Se você estiver criando um software completamente versionado, ou precisar suportar várias versões desse produto, o Git Flow ainda pode ser adequado.
>
>Lembre sempre, não existe bala de prata, considere sue contexto e decida por si mesmo.
 
## Problemas do Git flow

### Long-Lived Branches

A baixo um exemplo do histórico de um repositório que trabalha com long-lived branches, recomendo que aprecie um pouco essa imagem.

Não parece algo muito legal de se conviver no dia a dia né?

A quantidade de complexidade que é introduzida quando todas essas branches são mergiadas é alta demais, se você já esteve em projetos onde isso acontece você deve se lembrar de gastar alguns minutos ou até mesmo horas, apenas tendo que lidar com  resolução de conflitos e reconciliação das branches, na minha opinião um grande desperdício de tempo.

### Rebasing

Quando você faz um rebase você transforma N commits em 1 só, não existe mais merge commit, as hashes dos commits não coincidem mais, você perde completamente o rastreio de qual branch aquele trabalho veio.

E se por algum motivo você decidir dar um rebase na development, todas suas branches baseadas nela vão ter conflitos.

Esqueça rebase no Git Flow.

### Continuous Delivery

O Git Flow é todo desenhado para que o ciclo de lançamento seja longo, CD é o total oposto, com CD você tem uma maneira eficiente de se soltar uma hotfix em minutos, algo que o Git flow lida com um processo separado e rigoroso. 

É improvável que você consiga um bom processo de Continuous Delivery se você está utilizando Git Flow, na minha experiência, nenhum projeto que tentou conciliar Git Flow e CI/CD conseguiu ter sucesso.

### Velocidade das entregas.

Se você já leu até aqui, deve ter deduzido que o Git Flow não tem em momento nenhum ter a premissa de ser veloz em suas entregas, então o resultado é exatamente esperado, suas entregas vão ser lentas.

Não existem PR's que vivem por menos de 1 hora nesse cenário.

### Entregas grandes

Entregas grandes, em produção vem acompanhadas de uma complexidade proporcional ao tamanho da entrega, entregar múltiplas features/fixes ao teu usuário  consequentemente vai te entregar múltiplos pontos de falha também.
Se algo parar de funcionar como esperado, um rollback vai resultar na regressão de funcionalidades e correções de maneira desnecessária.

Com esse problema em mente, a atitude mais "simples" para tentar amenizar o problema é de testar bastante e garantir que nada vai dar errado na entrega, o problema dessa solução é acreditar que é possível fazer entregas perfeitas de maneira consistente. Partir da premissa que o seu processo pode ser perfeito é um erro, fazer um processo que lida bem com falhas é bem mais eficiente.

## Alternativas ao Git flow.

[Short-lived branches](https://trunkbaseddevelopment.com/short-lived-feature-branches/), e [Continuous Delivery](https://continuousdelivery.com/) devem ser os seus pilares.

Entregar muito e de forma atômica, vai te entregar velocidade e a habilidade de minimizar suas regressões.

[Github Flow](https://docs.github.com/en/get-started/quickstart/github-flow) e [Trunk based development](https://trunkbaseddevelopment.com/), são processos bem mais eficientes para o desenvolvimento web.

Se a sua feature é complexa, e vai levar tempo para ser entregue, adote a utilização de [feature flags](https://www.atlassian.com/continuous-delivery/principles/feature-flags).

## Conclusão

Espero ter deixado claro os motivos pelo qual eu acredito Git Flow não ser uma boa ideia para o desenvolvimento Web, também espero que as alternativas levantadas ao Git Flow sejam utilizadas para melhorar o processo de desenvolvimento do produto de vocês.

No futuro se fizer sentido posso fazer novos artigos para as alternativas levantadas aqui, caso algum desses tópicos tenha te chamado atenção, me avise.

Obrigado pela leitura, se quiser bater um papo sobre esse tema, pode me chamar no twitter [@brunocroh](https://twitter.com/brunocroh)

---
# References

[Niev - A successful Git branching model - 05/01/2010](https://nvie.com/posts/a-successful-git-branching-model/)
[Jean-Paul Delimat - Why you should not use (long-lived) feature branches - 30/03/2019](https://www.freecodecamp.org/news/why-you-should-not-use-feature-branches-a86950126124/)
[George Stocker - Please stop recommending Git Flow! - 04/03/2020](https://georgestocker.com/2020/03/04/please-stop-recommending-git-flow/)
[Coninuous Delivery - Git  Flow Is A Bad Idea - 22/09/2021](https://youtu.be/_w6TwnLCFwA)
[Ian Buchannan - Feature Flags](https://www.atlassian.com/continuous-delivery/principles/feature-flags)
[Trunk Based Development website](https://trunkbaseddevelopment.com/)
[Trunk Based Development - Short-Lived Feature Branches](https://trunkbaseddevelopment.com/short-lived-feature-branches/)
[Github Flow website](https://docs.github.com/en/get-started/quickstart/github-flow)
[Continuous Delivery website](https://continuousdelivery.com/)
